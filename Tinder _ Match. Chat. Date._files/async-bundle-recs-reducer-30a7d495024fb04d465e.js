/*! {Â© 2016 - 2019 Tinder, Inc., ALL RIGHTS RESERVED} */
(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{1597:function(e,t,r){"use strict";r.r(t),r.d(t,"reducer",(function(){return v})),r.d(t,"persistConfig",(function(){return O}));var n=r(81),a=r.n(n),u=r(7),c=r.n(u),s=r(8),i=r.n(s),d=r(145),o=r(10),l=r(78),f=r(1),E=r(133),S=r(35),_=r(62),p=r(50),g=r(569),h=2*l.a;function R(e){switch(e){case p.RECS_DISLIKE:return p.NOPE_STATUS;case p.RECS_LIKE:return p.LIKE_STATUS;case p.RECS_SUPERLIKE:return p.SUPERLIKE_STATUS;default:return null}}var v=Object(f.e)(d.combineReducers,{data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.get("data"),t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.default;switch(t.type){case p.LOAD_RECS_SUCCESS:var n=e.map((function(e){return e.get("_id")})),u=Object(o.fromJS)(t.payload).filter((function(e){return!n.includes(e.get("_id"))}));return e.concat(u);case p.CLEAR_RECS:return e.clear();case p.RECS_LIKE:case p.RECS_DISLIKE:case p.RECS_SUPERLIKE:return e.shift();case p.REC_OUT_OF_LIKES:case p.REC_OUT_OF_SUPERLIKES:case p.RECS_REWIND_SUCCESS:var c=r.get("previousRec");return c?e.unshift(c.set("confirmedStatus",null)):e;case p.RECS_CHANGE_ACTIVE_PHOTO:return e.setIn([0,"activePhotoIndex"],t.payload);case _.j:var s=new Set;return[].concat(a()(i()(t.payload,["data","result","blocks"],[])),a()(i()(t.payload,["data","result","matches"],[]))).forEach((function(e){s.add(e.substr(0,24)),s.add(e.substr(24,24))})),s.size?e.filter((function(e){return!s.has(e.get("_id"))})):e;case S.i:var d=t.payload,l=d.userId,f=d.photoId;if(!l||!f)return e;var E=e.findIndex((function(e){return e.get("_id")===l}));if(E<0)return e;var h=e.getIn([E,"photos"]),R=h.findIndex((function(e){return e.get("id")===f})),v=e.getIn([E,"activePhotoIndex"]),O={};return O.photos=h.filter((function(e,t){return t!==R})),v>R&&(O.activePhotoIndex=v-1),e.mergeIn([E],O);case Object(S.n)(t.type):return g.default.get("data");default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.get("loading"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.LOAD_RECS:return!0;case p.LOAD_RECS_EMPTY:return!1;case Object(S.n)(t.type):return g.default.get("loading");default:return e}},match:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.get("match"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.REC_MATCH:return Object(o.fromJS)({match:t.payload.match,rec:t.payload.rec});case Object(S.n)(t.type):return g.default.get("match");default:return e}},outOfLikes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.get("outOfLikes"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.REC_OUT_OF_LIKES:return!0;case p.REC_OUT_OF_LIKES_SUCCESS:return!1;case Object(S.n)(t.type):return g.default.get("outOfLikes");default:return e}},outOfRecs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.get("outOfRecs"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.LOAD_RECS:return!1;case p.LOAD_RECS_EMPTY:return!0;case Object(S.n)(t.type):return g.default.get("outOfRecs");default:return e}},outOfSuperlikes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.get("outOfSuperlikes"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.REC_OUT_OF_SUPERLIKES:return!0;case p.REC_OUT_OF_SUPERLIKES_SUCCESS:return!1;case Object(S.n)(t.type):return g.default.get("outOfSuperlikes");default:return e}},previousRec:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.get("previousRec"),t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.default;switch(t.type){case p.RECS_DISLIKE:case p.RECS_LIKE:case p.RECS_SUPERLIKE:var n=r.get("data").first(),a=R(t.type);return n?n.set("confirmedStatus",a):e;case p.REC_MATCH:case p.REC_OUT_OF_LIKES:case p.REC_OUT_OF_SUPERLIKES:case p.RECS_REWIND_SUCCESS:return null;case Object(S.n)(t.type):return g.default.get("previousRec");default:return e}},previouslySwiped:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.get("previouslySwiped"),t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.default;switch(t.type){case p.LOAD_RECS:var n=Date.now()-h;return e.filter((function(e){return e.get("timestamp")>n}));case p.RECS_DISLIKE:case p.RECS_LIKE:case p.RECS_SUPERLIKE:var a=r.getIn(["data",0,"_id"]),u=r.getIn(["data",0,"s_number"]),s=R(t.type);return a?e.push(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(o.fromJS)(c()({id:e,rating:t,timestamp:Date.now()},r))}(a,s,{sNumber:u})).slice(-1e3):e;case p.REC_OUT_OF_LIKES:case p.REC_OUT_OF_SUPERLIKES:case p.RECS_REWIND_SUCCESS:var i=r.getIn(["previousRec","_id"]);return i?e.filter((function(e){return e.get("id")!==i})):e;case Object(S.n)(t.type):return g.default.get("previouslySwiped");default:return e}},recentlyMatchedMatchIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.get("recentlyMatchedMatchIds"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.REC_MATCH:return e.push(i()(t.payload,["match","_id"])).slice(-19);case Object(S.n)(t.type):return g.default.get("recentlyMatchedMatchIds");default:return e}},recsModalOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.get("recsModalOpen"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.RECS_OPEN_MODAL:return!0;case p.RECS_CLOSE_MODAL:return!1;case Object(S.n)(t.type):return g.default.get("recsModalOpen");default:return e}},superlikesReset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.get("superlikesReset"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.REC_OUT_OF_SUPERLIKES:return i()(t.payload,"resets",e);case Object(S.n)(t.type):return g.default.get("superlikesReset");default:return e}},swipeCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.get("swipeCount"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.UPDATE_SWIPE_COUNT:return e+1;case Object(S.n)(t.type):return g.default.get("swipeCount");default:return e}}}),O={transforms:[Object(E.b)(["previouslySwiped"]),E.c]}}}]);