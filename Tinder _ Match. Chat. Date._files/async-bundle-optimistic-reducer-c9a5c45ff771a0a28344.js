/*! {Â© 2016 - 2019 Tinder, Inc., ALL RIGHTS RESERVED} */
(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1277:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return u}));var n=a(10),r=a(8),s=a.n(r),c=a(45),i=a(335),o=a(287),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.passport,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.RESET_LOCATION:return e.set("is_traveling",!1);case i.SET_TRAVEL_LOCATION_OPTIMISTIC:return Object(n.fromJS)({is_traveling:!0,travel_pos:t.payload.get("location"),travel_location_info:t.payload.get("info")});case c.FETCH_PROFILE_SUCCESS:var a=s()(t,["payload","data","travel"]);if(a){var r=a.travel_pos;if(!e.get("travel_pos")||!r)return e;var d=r.lat===e.getIn(["travel_pos","lat"]),u=r.lon===e.getIn(["travel_pos","lon"]),l=a.is_traveling===e.get("is_traveling");if(d&&u&&l)return o.passport}return e;default:return e}},u=function(e){return e.optimistic.getIn(["passport","is_traveling"])}},1620:function(e,t,a){"use strict";a.r(t);var n=a(145),r=a(10),s=a(8),c=a.n(s),i=a(92),o=a(62),d=a(287),u=a(1183),l=a(35),p=a(411),g=a(1277);a.d(t,"reducer",(function(){return v}));var v=Object(n.combineReducers)({matches:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.matches,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.b:case o.e:case o.j:var a=t.payload.data;if(!c()(a,["entities","matches"]))return e;var n=Object(r.fromJS)(a.entities);return e.withMutations((function(e){n.get("matches",new r.Map).forEach((function(t){var a=t.get("id")||t.get("_id");e.mergeIn([a],t);var r=t.get("messages").first(),s=n.getIn(["messages",r]);e.setIn([a,"lastMsg"],s)}))}));case i.SET_MATCH_SEEN:return e.mergeIn([t.payload.matchId],{seen:{match_seen:!0}});case i.SET_LAST_SEEN_MATCH_MESSAGE:return e.mergeIn([t.payload.matchId],{seen:{match_seen:!0,last_seen_msg_id:t.payload.messageId}});default:return e}},messages:u.c,unmatchedIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.unmatchedIds,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.j:var a=c()(t,["payload","data","result","blocks"]);return e.subtract(a);case i.UNMATCH_FAILURE:return e.remove(t.payload.matchId);case i.UNMATCH:return e.add(t.payload.matchId);case Object(l.n)(t.type):return d.unmatchedIds;default:return e}},settings:p.b,passport:g.b})}}]);